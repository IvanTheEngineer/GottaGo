{% extends "users/base.html" %}
{% block navbar_and_footer %}
{% load custom_filters %}
{% load static %}
{% block content %}
<div style="margin-top: 4rem;" class="rounded-2 p-0 py-2 bg-white">
  <h2>Received Requests</h2>
  {% if invites %}
    <ul>
      {% for invite in invites %}
      <div class="rounded-2 shadow p-4 py-2 bg-white" style="display: flex; align-items: start; justify-content: start; margin-bottom: 10px; margin-right: 3%;">
        <strong>{{ invite.requested_by.username }}</strong> &nbsp;has requested to join:&nbsp; <strong>{{ invite.travel_plan.plan_name }}</strong>&nbsp; ({{ invite.travel_plan.primary_group_code }})<br>
        <div style=" margin-left: 50%;">
          <a href="{% url 'decline_invite' %}?id={{invite.id}}" class="btn btn-danger ms-auto" >Decline</a>
          <a href="{% url 'accept_invite' %}?id={{invite.id}}" class="btn btn-success ms-auto" >Accept</a>
        </div>
      </div>
      {% endfor %}
    </ul>
  {% else %}
    <p>No join requests received.</p>
  {% endif %}
  </div>
{% endblock %}
{% endblock %}